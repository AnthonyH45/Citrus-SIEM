{"version":3,"sources":["components/Machine.js","components/MGrid.js","App.js","index.js"],"names":["useStyles","makeStyles","root","minWidth","backgroundColor","bullet","display","margin","transform","color","title","fontSize","pos","marginBottom","nested","paddingLeft","Machine","m","machine","classes","bull","className","console","log","Card","CardContent","Typography","gutterBottom","Uptime","variant","component","Hostname","IP","OS","List","aria-labelledby","theme","flexGrow","paper","height","width","control","padding","spacing","MGrid","props","machines","React","useState","Grid","container","item","xs","justify","Object","entries","map","e","k","v","socket","WebSocket","addEventListener","callbackFunc","call","App","setMachines","data","JSON","parse","OP","send","stringify","type","Data","prev","Ident","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.6dc9f65d.chunk.js","sourcesContent":["import React from 'react';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Card from '@material-ui/core/Card';\r\nimport CardContent from '@material-ui/core/CardContent';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport List from '@material-ui/core/List';\r\n// import ListItem from '@material-ui/core/ListItem';\r\n// import ListItemText from '@material-ui/core/ListItemText';\r\n// import Collapse from '@material-ui/core/Collapse';\r\n// import ExpandLess from '@material-ui/icons/ExpandLess';\r\n// import ExpandMore from '@material-ui/icons/ExpandMore';\r\n\r\nconst useStyles = makeStyles({\r\n  root: {\r\n    minWidth: 275,\r\n    backgroundColor: 'gainsboro'\r\n  },\r\n  bullet: {\r\n    display: 'inline-block',\r\n    margin: '0 2px',\r\n    transform: 'scale(4)',\r\n    color: \"green\"\r\n  },\r\n  title: {\r\n    fontSize: 14,\r\n  },\r\n  pos: {\r\n    marginBottom: 12,\r\n  },\r\n  nested: {\r\n    paddingLeft: 40,\r\n  },\r\n});\r\n\r\nfunction Machine(m) {\r\n  const { machine } = m;\r\n  const classes = useStyles();\r\n  // const [open, setOpen] = React.useState(false);\r\n  const bull = <span className={classes.bullet}>â€¢</span>;\r\n\r\n  // const handleClick = () => {\r\n  //   setOpen(!open);\r\n  // };\r\n\r\n  console.log(m)\r\n\r\n  return (\r\n        <Card className={classes.root}>\r\n            <CardContent>\r\n            <Typography className={classes.title} color=\"textSecondary\" gutterBottom>\r\n                {machine.Uptime}\r\n            </Typography>\r\n            <Typography variant=\"h5\" component=\"h2\">\r\n                {bull} {machine.Hostname}\r\n            </Typography>\r\n            <Typography className={classes.pos} color=\"textSecondary\">\r\n                {machine.IP} -- {machine.OS}\r\n            </Typography>\r\n            <Typography variant=\"body2\" component=\"p\">\r\n              <List\r\n                  component=\"nav\" aria-labelledby=\"nested-list-subheader\"\r\n              >\r\n                {/* <ListItem button onClick={handleClick}>\r\n                    <ListItemText primary=\"Services\" />\r\n                    {open ? <ExpandLess /> : <ExpandMore />}\r\n                </ListItem>\r\n\r\n                <Collapse in={open} timeout=\"auto\" unmountOnExit> */}\r\n              \r\n                {/* </Collapse> */}\r\n                </List>\r\n                </Typography>\r\n        </CardContent>\r\n        </Card>\r\n  );\r\n}\r\n\r\n/*\r\n                {machine.Services.map((s) => (\r\n                    <List component=\"div\" disablePadding>\r\n                        <ListItem button className={classes.nested}>\r\n                            <ListItemText primary={s} />\r\n                        </ListItem>\r\n                    </List>\r\n                  ))}\r\n                  */\r\n\r\nexport default Machine;\r\n","import React from 'react';\r\nimport Machine from './Machine'\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Grid from '@material-ui/core/Grid';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    flexGrow: 1,\r\n  },\r\n  paper: {\r\n    height: 140,\r\n    width: 100,\r\n  },\r\n  control: {\r\n    padding: theme.spacing(2),\r\n  },\r\n}));\r\n\r\nfunction MGrid(props) {\r\n    const { machines } = props;\r\n    const [spacing, setSpacing] = React.useState(2);\r\n    const classes = useStyles();\r\n\r\n    return (\r\n        <Grid container className={classes.root} spacing={2}>\r\n            <Grid item xs={12}>\r\n                <Grid container justify=\"center\" spacing={spacing}>\r\n                    {Object.entries(machines).map(e => {\r\n                      const [k, v] = e;\r\n                      return (\r\n                        <Grid key={k} item>\r\n                          <Machine key={k} machine={v}/>\r\n                        </Grid>\r\n                      );\r\n                    })}\r\n                </Grid>\r\n            </Grid>\r\n        </Grid>  \r\n    );\r\n}\r\n\r\nexport default MGrid;\r\n","import React from 'react';\r\nimport MGrid from './components/MGrid'\r\nimport './App.css';\r\n\r\nconst socket = new WebSocket('ws://localhost:8080/ws');\r\n\r\nsocket.addEventListener('open', (e) => {\r\n  console.log('WS connected!');\r\n});\r\n\r\nsocket.addEventListener('close', () => {\r\n  console.log('Websocket connection closed, refreshing page.')\r\n  // location.reload();\r\n});\r\n\r\nlet callbackFunc;\r\n\r\nsocket.addEventListener('message', (e) => {\r\n  callbackFunc.call(e);\r\n})\r\n\r\nfunction App() { //networks) {\r\n  const [machines, setMachines] = React.useState({});\r\n\r\n  /*\r\n  const state = {\r\n    machines: {}\r\n  };\r\n  */\r\n\r\n  socket.addEventListener('open', (e) => {\r\n      console.log('WS connected!');\r\n  });\r\n\r\n  socket.addEventListener('message', (e) => {\r\n      console.log(`Received: ${e.data}`);\r\n\r\n      const data = JSON.parse(e.data);\r\n      switch (data.OP) {\r\n          case 'PING':\r\n              socket.send(JSON.stringify({\r\n                  type: 'PONG'\r\n              }));\r\n              break;\r\n          case 'CURR_MACHINES':\r\n            setMachines(() => data.Data);\r\n              break;\r\n          case 'UPDATE_MACHINE':\r\n            setMachines((prev) => prev[data.Data.Ident] = data.Data);\r\n              break;\r\n          default:\r\n                  break;\r\n      }\r\n  });\r\n\r\n  return (\r\n    <div className=\"App\">\r\n      <header className=\"App-header\">\r\n        <h1>LAN-1</h1>\r\n        <MGrid machines={machines}/>\r\n      </header>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);"],"sourceRoot":""}