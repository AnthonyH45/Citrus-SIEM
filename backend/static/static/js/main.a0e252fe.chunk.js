(this.webpackJsonptsfrontend=this.webpackJsonptsfrontend||[]).push([[0],{30:function(e,n,t){},36:function(e,n,t){},37:function(e,n,t){"use strict";t.r(n);var c=t(1),o=t.n(c),a=t(15),r=t.n(a),s=(t(30),t(21)),i=t(19),l=t(16),d=t(17),j=t(22),u=t(20),p=t(54),b=t(58),h=t(61),f=t(57),g=t(59),m=t(3),O=Object(p.a)({root:{minWidth:275,backgroundColor:"gainsboro"},alive:{display:"inline-block",margin:"0 2px",transform:"scale(4)",color:"green"},dead:{display:"inline-block",margin:"0 2px",transform:"scale(4)",color:"red"},title:{fontSize:14},pos:{marginBottom:12},nested:{paddingLeft:40}});function x(e){var n=e.key,t=e.m,c=O();return console.log(t),Object(m.jsx)(h.a,{className:c.root,children:Object(m.jsxs)(f.a,{children:[Object(m.jsx)(g.a,{className:c.title,color:"textSecondary",gutterBottom:!0,children:t.Uptime}),Object(m.jsxs)(g.a,{variant:"h5",component:"h2",children:[Object(m.jsx)("span",{className:"1"===t.On?c.alive:c.dead,children:"\u2022"})," ",t.Hostname]}),Object(m.jsxs)(g.a,{className:c.pos,color:"textSecondary",children:[t.IP," -- ",t.OS]})]})},n)}Object(p.a)((function(e){return{root:{flexGrow:1},paper:{height:140,width:100},control:{padding:e.spacing(2)}}}));var v=function(e){Object(j.a)(t,e);var n=Object(u.a)(t);function t(e){var c;return Object(l.a)(this,t),c=n.call(this,e),console.log("from mgrid:"),console.log(c.state),c}return Object(d.a)(t,[{key:"render",value:function(){return Object(m.jsx)(b.a,{container:!0,className:"AAA",spacing:2,children:Object(m.jsx)(b.a,{item:!0,xs:12,children:Object(m.jsx)(b.a,{container:!0,justify:"center",spacing:3,children:Array.from(this.state.inv).map((function(e){var n="Grid_".concat(e[0]),t="Machine_".concat(e[0]);return Object(m.jsx)(b.a,{item:!0,children:Object(m.jsx)(x,{m:e[1]},t)},n)}))})})})}}]),t}(c.Component),N=(t(36),new WebSocket("ws://172.26.47.79:8080/ws"));function y(){var e=o.a.useState(new Map),n=Object(i.a)(e,2),t=n[0],c=n[1];return N.addEventListener("open",(function(e){console.log("WS connected!")})),N.addEventListener("message",(function(e){console.log("Received: ".concat(e.data));var n,t=JSON.parse(e.data);switch(t.OP){case"PING":N.send(JSON.stringify({type:"PONG"}));break;case"CURR_MACHINES":c((function(){return new Map(t.Data)}));break;case"UPDATE_MACHINE":n=t.Data,c((function(e){void 0===e&&(e=[]);for(var t=0;t<e.length;t++)if(e[t].Ident===n.Ident)return e[t]=n,e;return e.push(n),console.log("ret: "),console.log(e),e}))}})),console.log("HI"),console.log(t),console.log("IH"),Object(m.jsx)("div",{className:"App",children:Object(m.jsxs)("header",{className:"App-header",children:[Object(m.jsx)("h1",{children:"LAN-1"}),Array.from(t).map((function(e){var n="MGrid_".concat(e[0]);return Object(m.jsx)(v,Object(s.a)({},e[1]),n)}))]})})}N.addEventListener("open",(function(e){console.log("WS connected!")})),N.addEventListener("close",(function(){console.log("Websocket connection closed, refreshing page.")})),r.a.render(Object(m.jsx)(o.a.StrictMode,{children:Object(m.jsx)(y,{})}),document.getElementById("root"))}},[[37,1,2]]]);
//# sourceMappingURL=main.a0e252fe.chunk.js.map