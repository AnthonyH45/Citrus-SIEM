(this["webpackJsonpgo-watch"]=this["webpackJsonpgo-watch"]||[]).push([[0],{47:function(e,t,n){},54:function(e,t,n){},55:function(e,t,n){"use strict";n.r(t);var c=n(0),a=n.n(c),s=n(8),o=n.n(s),r=(n(47),n(13)),i=n(78),l=n(86),d=n(80),j=n(28),b=n(81),u=n(84),h=n(82),O=n(85),p=n(37),m=n.n(p),x=n(38),f=n.n(x),g=n(3),v=Object(i.a)({root:{minWidth:275,backgroundColor:"gainsboro"},bullet:{display:"inline-block",margin:"0 2px",transform:"scale(4)",color:"green"},title:{fontSize:14},pos:{marginBottom:12},nested:{paddingLeft:40}});var N=function(e){var t=e.machine,n=v(),c=a.a.useState(!1),s=Object(r.a)(c,2),o=s[0],i=s[1],p=Object(g.jsx)("span",{className:n.bullet,children:"\u2022"});return console.log(e),Object(g.jsx)(l.a,{className:n.root,children:Object(g.jsxs)(d.a,{children:[Object(g.jsx)(j.a,{className:n.title,color:"textSecondary",gutterBottom:!0,children:t.Network}),Object(g.jsxs)(j.a,{variant:"h5",component:"h2",children:[p," ",t.Name]}),Object(g.jsxs)(j.a,{className:n.pos,color:"textSecondary",children:[t.IP," -- ",t.OS]}),Object(g.jsx)(j.a,{variant:"body2",component:"p",children:Object(g.jsxs)(b.a,{component:"nav","aria-labelledby":"nested-list-subheader",children:[Object(g.jsxs)(u.a,{button:!0,onClick:function(){i(!o)},children:[Object(g.jsx)(h.a,{primary:"Services"}),o?Object(g.jsx)(m.a,{}):Object(g.jsx)(f.a,{})]}),Object(g.jsx)(O.a,{in:o,timeout:"auto",unmountOnExit:!0})]})})]})})},S=n(83),w=Object(i.a)((function(e){return{root:{flexGrow:1},paper:{height:140,width:100},control:{padding:e.spacing(2)}}}));var k=function(e){var t=e.machines,n=a.a.useState(2),c=Object(r.a)(n,2),s=c[0],o=(c[1],w());return Object(g.jsx)(S.a,{container:!0,className:o.root,spacing:2,children:Object(g.jsx)(S.a,{item:!0,xs:12,children:Object(g.jsx)(S.a,{container:!0,justify:"center",spacing:s,children:Object.entries(t).map((function(e){var t=Object(r.a)(e,2),n=t[0],c=t[1];return Object(g.jsx)(S.a,{item:!0,children:Object(g.jsx)(N,{machine:c},n)},n)}))})})})},y=(n(54),new WebSocket("ws://localhost:8080/ws"));y.addEventListener("open",(function(e){console.log("WS connected!")})),y.addEventListener("close",(function(){alert("Websocket connection closed, refreshing page.")})),y.addEventListener("message",(function(e){undefined.call(e)}));var E=function(){var e=a.a.useState({}),t=Object(r.a)(e,2),n=t[0],c=t[1];return y.addEventListener("open",(function(e){console.log("WS connected!")})),y.addEventListener("message",(function(e){console.log("Received: ".concat(e.data));var t=JSON.parse(e.data);switch(t.OP){case"PING":y.send(JSON.stringify({type:"PONG"}));break;case"CURR_MACHINES":c((function(){return t.Data}));break;case"UPDATE_MACHINE":c((function(e){return e[t.Data.Ident]=t.Data}))}})),Object(g.jsx)("div",{className:"App",children:Object(g.jsxs)("header",{className:"App-header",children:[Object(g.jsx)("h1",{children:"LAN-1"}),Object(g.jsx)(k,{machines:n})]})})};o.a.render(Object(g.jsx)(a.a.StrictMode,{children:Object(g.jsx)(E,{})}),document.getElementById("root"))}},[[55,1,2]]]);
//# sourceMappingURL=main.956ca6a3.chunk.js.map