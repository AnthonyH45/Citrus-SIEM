(this.webpackJsonptsfrontend=this.webpackJsonptsfrontend||[]).push([[0],{57:function(e,n,t){},66:function(e,n,t){},67:function(e,n,t){"use strict";t.r(n);var c=t(0),a=t.n(c),s=t(8),r=t.n(s),o=(t(57),t(33)),i=t(92),d=t(100),l=t(94),j=t(95),b=t(35),O=t(96),p=t(97),h=t(98),x=t(101),m=t(45),u=t.n(m),f=t(31),v=t.n(f),g=t(103),y=t(104),N=t(99),S=t(3),A=Object(i.a)({root:{minWidth:275,backgroundColor:"gainsboro"},alive:{display:"inline-block",margin:"0 2px",transform:"scale(4)",color:"green"},dead:{display:"inline-block",margin:"0 2px",transform:"scale(4)",color:"red"},title:{fontSize:14},pos:{marginBottom:12},nested:{paddingLeft:40}});function w(e){var n=e.m,t=A(),c=n.IP.slice(0,n.IP.length-5)+"XXXXX",s=a.a.useState(!1),r=Object(o.a)(s,2),i=r[0],d=r[1];return Object(S.jsx)(l.a,{className:t.root,children:Object(S.jsxs)(j.a,{children:[Object(S.jsx)(b.a,{className:t.title,color:"textSecondary",gutterBottom:!0,children:n.Uptime}),Object(S.jsxs)(b.a,{variant:"h5",component:"h2",children:[Object(S.jsx)("span",{className:"1"===n.On?t.alive:t.dead,children:"\u2022"})," ",n.Hostname]}),Object(S.jsxs)(b.a,{className:t.pos,color:"textSecondary",children:[c," -- ",n.OS]}),Object(S.jsx)(b.a,{variant:"body2",component:"p",children:Object(S.jsxs)(O.a,{component:"nav","aria-labelledby":"nested-list-subheader",children:[Object(S.jsxs)(p.a,{button:!0,onClick:function(){d(!i)},children:[Object(S.jsx)(h.a,{primary:"Active Connections"}),i?Object(S.jsx)(u.a,{}):Object(S.jsx)(v.a,{})]}),Object(S.jsx)(x.a,{in:i,timeout:"auto",unmountOnExit:!0,children:void 0===n.Services||null===n.Services?Object(S.jsx)("b",{children:"No connections reported yet"}):[n.Services.map((function(e,n){return Object(S.jsx)(O.a,{component:"div",disablePadding:!0,children:Object(S.jsxs)(g.a,{children:[Object(S.jsx)(y.a,{expandIcon:Object(S.jsx)(v.a,{}),"aria-controls":"panel1a-content",id:"panel1a-header",children:Object(S.jsxs)(b.a,{children:["Connection: ",n+1]})}),Object(S.jsxs)(N.a,{children:[Object(S.jsx)(p.a,{className:t.nested,children:Object(S.jsx)(h.a,{primary:e.LocalAddr,secondary:"LocalAddr"})}),Object(S.jsx)(p.a,{className:t.nested,children:Object(S.jsx)(h.a,{primary:e.ForAddr,secondary:"ForAddr"})}),Object(S.jsx)(p.a,{className:t.nested,children:Object(S.jsx)(h.a,{primary:e.ProgName,secondary:"ProgName"})}),Object(S.jsx)(p.a,{className:t.nested,children:Object(S.jsx)(h.a,{primary:e.ConnType,secondary:"ConnType"})})]})]})})}))]})]})})]})})}var P=Object(i.a)((function(e){return{root:{flexGrow:1},paper:{height:140,width:100},control:{padding:e.spacing(2)}}}));function k(e){var n=e.invP,t=(e.invS,P());return Object(S.jsx)(d.a,{container:!0,className:t.root,spacing:2,children:Object(S.jsx)(d.a,{item:!0,xs:12,children:Object(S.jsx)(d.a,{container:!0,justify:"center",spacing:3,children:Array.from(n).map((function(e){return Object(S.jsx)(d.a,{item:!0,children:Object(S.jsx)(w,{m:e[1]},"Machine_"+e[0])},"Grid_"+e[0])}))})})})}t(66);function E(){var e=a.a.useState(new Map),n=Object(o.a)(e,2),t=n[0],c=n[1];return a.a.useEffect((function(){var e=new WebSocket("ws://localhost:8080/ws");e.addEventListener("open",(function(e){console.log("WS connected!")})),e.addEventListener("close",(function(){console.log("Websocket connection closed, refreshing page.")})),e.addEventListener("open",(function(e){console.log("WS connected!")})),e.addEventListener("message",(function(n){console.log("Received: ".concat(n.data));var t=JSON.parse(n.data);switch(t.OP){case"PING":e.send(JSON.stringify({type:"PONG"}));break;case"CURR_MACHINES":c((function(){return new Map(Object.entries(t.Data))}));break;case"UPDATE_MACHINE":c((function(e){var n=t.Data;return e.set(n.Ident,n),new Map(e)}))}}))}),[]),Object(S.jsx)("div",{className:"App",children:Object(S.jsxs)("header",{className:"App-header",children:[Object(S.jsx)("h1",{children:"LAN-1"}),Object(S.jsx)(k,{invP:t,invS:t},"MGrid")]})})}r.a.render(Object(S.jsx)(a.a.StrictMode,{children:Object(S.jsx)(E,{})}),document.getElementById("root"))}},[[67,1,2]]]);
//# sourceMappingURL=main.7822910b.chunk.js.map